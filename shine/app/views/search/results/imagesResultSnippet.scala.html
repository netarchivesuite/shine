@(q: uk.bl.wa.shine.Query, currentPage: uk.bl.wa.shine.Pagination, d: org.apache.solr.common.SolrDocument, index: Int)

@checkBoxValue(document: org.apache.solr.common.SolrDocument) = {
	@checkValue(document.getFirstValue("id"));;;@checkValue(document.getFirstValue("crawl_date"));;;@checkValue(document.getFirstValue("title"));;;@checkValue(d.getFirstValue("domain"));;;@checkValue(d.getFirstValue("url"));;;@checkValue(d.getFirstValue("wayback_date"))
}

@checkValue(value: java.lang.Object) = @{
	if(value == null) {
		" "
	} else {
		value.toString.trim
	}
}

@generateImageURL(document: org.apache.solr.common.SolrDocument) = @{
	var url = ""
	url = "http://belinda:9721/webarchivemimetypeservlet/services/image?arcFilePath=" +
			document.getFirstValue("arc_full") +
			"&offset=" + document.getFirstValue("source_file_s").toString.split("@")(1) +
			"&height=100&width=100"
	url
}

@generateRawImageURL(document: org.apache.solr.common.SolrDocument) = @{
	var url = ""
	url = "http://belinda:9721/webarchivemimetypeservlet/services/downloadRaw?arcFilePath=" +
			document.getFirstValue("arc_full") +
			"&offset=" + document.getFirstValue("source_file_s").toString.split("@")(1)
	url
}

<div class="list-group">
	<div class="list-group-item" href="#">
		<div class="row">
			<div class="col-md-8 col-sm-8">
				<a href="@generateRawImageURL(d)"><img src="@generateImageURL(d)" /></a>
				<p class="list-group-item-text">
						@utils.Formatter.formatDateTime(d.getFirstValue("crawl_date"))<br />
						@d.getFirstValue("url")<br />
						@d.getFirstValue("content_type_norm")<br />
						<span class="result-host">@d.getFirstValue("host")</span><br />
				</p>
			</div>
			<div class="col-md-4 col-sm-4 checkbox">
			 	<div class="checkbox pull-right">
			 		<input host="@d.getFirstValue("host")" type="checkbox" name="selectedResource" value="@checkBoxValue(d)" data-toggle="tooltip" data-placement="top" title="select" class="resource">
			 	</div>
			</div>
		</div>
	</div>
</div>
